import java.math.BigDecimalclass RealProduct(    override val price: BigDecimal,    val name: String,) : Product<BigDecimal>enum class RubleCoin(override val value: BigDecimal) : Coin<BigDecimal> {    Five(BigDecimal(5)),    Ten(BigDecimal(10))}class BigCalculator : MoneyCalculator<BigDecimal> {    override fun zero() = BigDecimal.ZERO    override fun isLessOrEqual(m1: BigDecimal, m2: BigDecimal) = m1 <= m2    override fun add(m1: BigDecimal, m2: BigDecimal) = m1 + m2}interface Console {    fun writeLine(line: String)    fun readLine(): String}class ConsoleVendingMachine(    private val console: Console,    private val available: Map<RealProduct, Int>) : AbstractVendingMachine<BigDecimal, RealProduct, RubleCoin>(    BigCalculator(), available) {    override fun onEjectCoin(coin: RubleCoin) {        console.writeLine("монета возвращена: $coin")    }    override fun onEjectProduct(product: RealProduct) {        console.writeLine("ваш продукт: ${product.name}")    }    override fun onDisplayProductIsOut(product: RealProduct) {        console.writeLine("продукт закончился: ${product.name}")    }    override fun onDisplayProductNotSelected() {        console.writeLine("продукт не выбран")    }    companion object {        val insertCommandRegex = "^insert .+".toRegex()        val selectCommandRegex = "^select .+".toRegex()    }    fun step() {        val cmd = console.readLine()        if (cmd.matches(insertCommandRegex)) {            val coin = when (val value = cmd.split(" ")[1]) {                "5" -> RubleCoin.Five                "10" -> RubleCoin.Ten                else -> {                    console.writeLine("неправильный номинал монеты: $value")                    null                }            }            if (coin != null)                insertCoin(coin)        } else if (cmd.matches(selectCommandRegex)) {            val name = cmd.split(" ")[1]            val product = available.entries.find { it.key.name == name }?.key                ?: run {                    console.writeLine("продукт не найден: $name")                    null                }            if (product != null)                selectProduct(product)        } else            console.writeLine("неверная команда: $cmd")    }}